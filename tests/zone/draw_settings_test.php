<?php

namespace eru\nczone\tests\zone;

use eru\nczone\zone\draw_settings;

class draw_settings_test extends \phpbb_test_case
{
    /**
     * @dataProvider determine_map_id_by_players_maps_data_data_provider
     *
     * @param array $data
     * @param int $expected
     */
    public function test_determine_map_id_by_players_maps_data(
        array $data,
        int $expected
    ): void {
        self::assertSame(
            $expected,
            draw_settings::determine_map_id_by_players_maps_data($data)
        );
    }

    public function determine_map_id_by_players_maps_data_data_provider(): array
    {
        return [
            [
                'data' => \array_map(static function ($entry) {
                    return ['map_id' => $entry[0], 'counter' => $entry[1]];
                }, [
                    [1, 4], [2, 4], [3, 39], [4, 8], [5, 0], [6, 0], [7, 45], [8, 12],
                    [9, 0], [10, 20], [11, 17], [12, 0], [13, 0], [14, 45], [15, 0],
                    [16, 0], [17, 0], [18, 0], [19, 0], [20, 0], [21, 0], [22, 0],
                    [23, 0], [24, 0], [25, 6], [26, 12], [27, 44], [28, 52], [29, 27],
                    [30, 0], [31, 0], [32, 0], [33, 28], [34, 22], [35, 18], [36, 9],
                    [37, 45], [38, 45], [39, 45], [40, 45], [1, 24], [2, 0], [3, 30],
                    [4, 19], [5, 0], [6, 0], [7, 33], [8, 24], [9, 0], [10, 32], [11, 2],
                    [12, 0], [13, 0], [14, 71], [15, 0], [16, 80], [17, 0], [18, 0],
                    [19, 0], [20, 0], [21, 0], [22, 0], [23, 0], [24, 0], [25, 26],
                    [26, 10], [27, 62], [28, 44], [29, 59], [30, 0], [31, 0], [32, 0],
                    [33, 1], [34, 6], [35, 16], [36, 46], [37, 15], [38, 9], [39, 50],
                    [40, 34], [1, 84], [2, 12], [3, 84], [4, 16], [5, 0], [6, 0],
                    [7, 42], [8, 3], [9, 0], [10, 6], [11, 42], [12, 0], [13, 0],
                    [14, 21], [15, 0], [16, 0], [17, 0], [18, 0], [19, 0], [20, 0],
                    [21, 0], [22, 0], [23, 0], [24, 0], [25, 50], [26, 18], [27, 38],
                    [28, 8], [29, 26], [30, 0], [31, 0], [32, 0], [33, 34], [34, 14],
                    [35, 42], [36, 42], [37, 42], [38, 18], [39, 30], [40, 42], [1, 66],
                    [2, 4], [3, 48], [4, 6], [5, 0], [6, 0], [7, 48], [8, 33],
                    [9, 0], [10, 50], [11, 15], [12, 0], [13, 0], [14, 38], [15, 0],
                    [16, 80], [17, 0], [18, 0], [19, 0], [20, 0], [21, 0], [22, 0],
                    [23, 0], [24, 0], [25, 20], [26, 18], [27, 10], [28, 4], [29, 0],
                    [30, 0], [31, 0], [32, 0], [33, 41], [34, 28], [35, 3], [36, 29],
                    [37, 45], [38, 19], [39, 30], [40, 37], [1, 24], [2, 4], [3, 6],
                    [4, 35], [5, 0], [6, 0], [7, 41], [8, 15], [9, 0], [10, 41],
                    [11, 41], [12, 0], [13, 0], [14, 41], [15, 0], [16, 0], [17, 0],
                    [18, 0], [19, 0], [20, 0], [21, 0], [22, 0], [23, 0], [24, 0],
                    [25, 32], [26, 18], [27, 46], [28, 58], [29, 41], [30, 0], [31, 0],
                    [32, 0], [33, 41], [34, 6], [35, 11], [36, 7], [37, 41], [38, 6],
                    [39, 34], [40, 41], [1, 12], [2, 4], [3, 9], [4, 29], [5, 0],
                    [6, 0], [7, 29], [8, 51], [9, 0], [10, 9], [11, 29], [12, 0],
                    [13, 0], [14, 29], [15, 0], [16, 40], [17, 0], [18, 0], [19, 0],
                    [20, 0], [21, 0], [22, 0], [23, 0], [24, 0], [25, 32], [26, 8],
                    [27, 40], [28, 14], [29, 0], [30, 0], [31, 0], [32, 0], [33, 19],
                    [34, 58], [35, 29], [36, 29], [37, 29], [38, 29], [39, 29], [40, 29],
                ]),
                'expected' => 14,
            ],
        ];
    }
}
